<?xml version="1.0" encoding="UTF-8"?><jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="AR_movement" language="groovy" pageWidth="700" pageHeight="990" columnWidth="700" leftMargin="0" rightMargin="0" topMargin="0" bottomMargin="0" uuid="0e3d1ce5-54b9-4676-8053-29c780a28060">	<property name="ireport.zoom" value="1.5"/>	<property name="ireport.x" value="0"/>	<property name="ireport.y" value="0"/>	<style name="Crosstab Data Text" hAlign="Center"/>	<parameter name="SUBREPORT_DIR" class="java.lang.String" isForPrompting="false">		<defaultValueExpression><![CDATA["/home/meagain/Desktop/NAITS/StatusUpdatePrintout/"]]></defaultValueExpression>	</parameter>	<parameter name="path" class="java.lang.String">		<defaultValueExpression><![CDATA["/home/meagain/Desktop/NAITS/StatusUpdatePrintout/"]]></defaultValueExpression>	</parameter>	<parameter name="OBJ_ID" class="java.lang.Long"/>	<queryString>		<![CDATA[SELECTCASE	WHEN (CASE WHEN s2.holdingidfrom IS NULL THEN vhold1.pic  ELSE vhold2.pic END) IS NULL	THEN s1.currentholding	ELSE (CASE WHEN s2.holdingidfrom IS NULL THEN vhold1.pic  ELSE vhold2.pic END)	END as holdingid,s1.arrivaldateto as datefrom,s2.departdatefrom as dateto,naits.translateCodeValue(s1.country, 'COUNTRIES', 'ka_GE') as countrybirthFROM(	(select	  0 as rownum1,	  vhold.pic as currentholding,	  null as holdingidfrom,	  null as holdingidto,	  to_char(vanimal.birth_date, 'dd/mm/yyyy')  as arrivaldateto,	  null as departdatefrom,	  CASE WHEN vanimal.country_old_id IS null THEN vanimal.country ELSE vanimal.country_old_id END as country	from naits.vanimal as vanimal	  join naits.vholding as vhold on (vanimal.parent_id = vhold.object_id)	where	  now() between vanimal.dt_insert and vanimal.dt_delete	  and vanimal.object_id=$P{OBJ_ID}	)	union all	(select 		row_number() over (ORDER BY departure_date asc)as rownum1,	    null  as currentholding, 		vmovement.source_holding_id as holdingidfrom, 		vmovement.destination_holding_id as holdingidto, 		to_char(vmovement.departure_date, 'dd/mm/yyyy')  as departdatefrom, 		to_char(vmovement.arrival_date, 'dd/mm/yyyy')  as arrivaldateto,	    CASE WHEN vanimal.country_old_id IS null THEN vanimal.country ELSE vanimal.country_old_id END as country	from naits.vanimal_movement as vmovement 		join naits.vanimal as vanimal on vmovement.animal_ear_tag = vanimal.animal_id	where    	vanimal.object_id=$P{OBJ_ID}    	and now() between vmovement.dt_insert and vmovement.dt_delete		and now() between vanimal.dt_insert and vanimal.dt_delete	order by departure_date asc)) as s1LEFT JOIN(	select 		row_number() over (ORDER BY departure_date asc) as rownum2,	    null  as currentholding, 		vmovement.source_holding_id as holdingidfrom, 		vmovement.destination_holding_id as holdingidto, 		to_char(vmovement.departure_date, 'dd/mm/yyyy')  as departdatefrom, 		to_char(vmovement.arrival_date, 'dd/mm/yyyy')  as arrivaldateto,	    CASE WHEN vanimal.country_old_id IS null THEN vanimal.country ELSE vanimal.country_old_id END as country	from naits.vanimal_movement as vmovement 		join naits.vanimal as vanimal on vmovement.animal_ear_tag = vanimal.animal_id	where    	vanimal.object_id=$P{OBJ_ID}    	and now() between vmovement.dt_insert and vmovement.dt_delete		and now() between vanimal.dt_insert and vanimal.dt_delete	order by departure_date asc) as s2on s1.rownum1 = s2.rownum2 - 1LEFT JOIN naits.vholding vhold2 on to_char(vhold2.object_id, '999') = s2.holdingidfromLEFT JOIN naits.vholding vhold1 on to_char(vhold1.object_id, '999') = s1.holdingidfrom;]]>	</queryString>	<field name="holdingid" class="java.lang.String"/>	<field name="datefrom" class="java.lang.String"/>	<field name="dateto" class="java.lang.String"/>	<field name="countrybirth" class="java.lang.String"/>	<background>		<band splitType="Stretch"/>	</background>	<columnHeader>		<band height="15">			<staticText>				<reportElement uuid="2a3a54d4-05fb-43ee-a61a-206c5bf4419b" x="100" y="0" width="100" height="15"/>				<box>					<topPen lineWidth="0.0"/>					<leftPen lineWidth="0.0" lineStyle="Solid"/>					<bottomPen lineWidth="0.0" lineStyle="Solid"/>					<rightPen lineWidth="0.0" lineStyle="Solid"/>				</box>				<textElement textAlignment="Center" verticalAlignment="Middle" markup="none">					<font fontName="DejaVu Sans" size="8" isBold="false"/>				</textElement>				<text><![CDATA[დაბადების ქვეყანა]]></text>			</staticText>			<textField isBlankWhenNull="true">				<reportElement uuid="31ddadae-f2ae-41ae-9a62-c7cfb58b3d0f" x="200" y="0" width="80" height="15" forecolor="#000000"/>				<box leftPadding="1" rightPadding="1">					<pen lineStyle="Dotted" lineColor="#000000"/>					<topPen lineWidth="0.0" lineStyle="Dotted" lineColor="#000000"/>					<leftPen lineWidth="0.0" lineStyle="Dotted" lineColor="#000000"/>					<bottomPen lineWidth="1.0" lineStyle="Dotted" lineColor="#000000"/>					<rightPen lineWidth="0.0" lineStyle="Dotted" lineColor="#000000"/>				</box>				<textElement verticalAlignment="Middle">					<font fontName="DejaVu Sans" size="8" isBold="false"/>				</textElement>				<textFieldExpression><![CDATA[$F{countrybirth}]]></textFieldExpression>			</textField>			<staticText>				<reportElement uuid="80cfc74a-8a71-4067-8350-d3c452729c37" x="0" y="0" width="100" height="15"/>				<box>					<topPen lineWidth="0.0"/>					<leftPen lineWidth="0.0" lineStyle="Solid"/>					<bottomPen lineWidth="0.0" lineStyle="Solid"/>					<rightPen lineWidth="0.0" lineStyle="Solid"/>				</box>				<textElement textAlignment="Center" verticalAlignment="Middle" markup="none">					<font fontName="DejaVu Sans" size="8" isBold="false"/>				</textElement>				<text><![CDATA[გადაადგილების ისტორია]]></text>			</staticText>		</band>	</columnHeader>	<detail>		<band height="15" splitType="Stretch">			<staticText>				<reportElement uuid="dbf18c12-3ebc-4169-9d60-a4d7db4145c1" x="100" y="0" width="100" height="15"/>				<box>					<topPen lineWidth="0.0"/>					<leftPen lineWidth="0.0" lineStyle="Solid"/>					<bottomPen lineWidth="0.0" lineStyle="Solid"/>					<rightPen lineWidth="0.0" lineStyle="Solid"/>				</box>				<textElement textAlignment="Center" verticalAlignment="Middle" markup="none">					<font fontName="DejaVu Sans" size="8" isBold="false"/>				</textElement>				<text><![CDATA[მუდმივი სადგომის]]></text>			</staticText>			<textField isBlankWhenNull="true">				<reportElement uuid="a10c9d50-307e-44df-8a4e-b4560827cc38" x="380" y="0" width="80" height="15" forecolor="#000000"/>				<box leftPadding="1" rightPadding="1">					<pen lineStyle="Dotted" lineColor="#000000"/>					<topPen lineWidth="0.0" lineStyle="Dotted" lineColor="#000000"/>					<leftPen lineWidth="0.0" lineStyle="Dotted" lineColor="#000000"/>					<bottomPen lineWidth="1.0" lineStyle="Dotted" lineColor="#000000"/>					<rightPen lineWidth="0.0" lineStyle="Dotted" lineColor="#000000"/>				</box>				<textElement verticalAlignment="Middle">					<font fontName="DejaVu Sans" size="8" isBold="false"/>				</textElement>				<textFieldExpression><![CDATA[$F{datefrom}]]></textFieldExpression>			</textField>			<staticText>				<reportElement uuid="dfd87652-172f-4f29-a9c5-48afc5112b36" x="280" y="0" width="100" height="15"/>				<box>					<topPen lineWidth="0.0"/>					<leftPen lineWidth="0.0" lineStyle="Solid"/>					<bottomPen lineWidth="0.0" lineStyle="Solid"/>					<rightPen lineWidth="0.0" lineStyle="Solid"/>				</box>				<textElement textAlignment="Center" verticalAlignment="Middle" markup="none">					<font fontName="DejaVu Sans" size="8" isBold="false"/>				</textElement>				<text><![CDATA[ჩამოსვლის თარიღი]]></text>			</staticText>			<textField isBlankWhenNull="true">				<reportElement uuid="4a24f4ef-7a13-408e-a0be-ce43ae42263d" x="560" y="0" width="80" height="15" forecolor="#000000"/>				<box leftPadding="1" rightPadding="1">					<pen lineStyle="Dotted" lineColor="#000000"/>					<topPen lineWidth="0.0" lineStyle="Dotted" lineColor="#000000"/>					<leftPen lineWidth="0.0" lineStyle="Dotted" lineColor="#000000"/>					<bottomPen lineWidth="1.0" lineStyle="Dotted" lineColor="#000000"/>					<rightPen lineWidth="0.0" lineStyle="Dotted" lineColor="#000000"/>				</box>				<textElement verticalAlignment="Middle">					<font fontName="DejaVu Sans" size="8" isBold="false"/>				</textElement>				<textFieldExpression><![CDATA[$F{dateto}]]></textFieldExpression>			</textField>			<staticText>				<reportElement uuid="4fbc5397-4c36-4b9c-98bc-31761db550ae" x="460" y="0" width="100" height="15"/>				<box>					<topPen lineWidth="0.0"/>					<leftPen lineWidth="0.0" lineStyle="Solid"/>					<bottomPen lineWidth="0.0" lineStyle="Solid"/>					<rightPen lineWidth="0.0" lineStyle="Solid"/>				</box>				<textElement textAlignment="Center" verticalAlignment="Middle" markup="none">					<font fontName="DejaVu Sans" size="8" isBold="false"/>				</textElement>				<text><![CDATA[გამგზავრების თარიღი]]></text>			</staticText>			<textField isBlankWhenNull="true">				<reportElement uuid="294658bd-26a3-49d0-bd89-9e14f9580913" x="200" y="0" width="80" height="15" forecolor="#000000"/>				<box leftPadding="1" rightPadding="1">					<pen lineStyle="Dotted" lineColor="#000000"/>					<topPen lineWidth="0.0" lineStyle="Dotted" lineColor="#000000"/>					<leftPen lineWidth="0.0" lineStyle="Dotted" lineColor="#000000"/>					<bottomPen lineWidth="1.0" lineStyle="Dotted" lineColor="#000000"/>					<rightPen lineWidth="0.0" lineStyle="Dotted" lineColor="#000000"/>				</box>				<textElement verticalAlignment="Middle">					<font fontName="DejaVu Sans" size="8" isBold="false"/>				</textElement>				<textFieldExpression><![CDATA[$F{holdingid}]]></textFieldExpression>			</textField>		</band>	</detail>	<columnFooter>		<band height="3"/>	</columnFooter></jasperReport>